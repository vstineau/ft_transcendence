"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[43,565],{43:(t,e,n)=>{function s(){return'\n\t\t<div id="chat-panel" class="fixed bottom-24 right-6 w-80 h-96 bg-white rounded-xl shadow-2xl z-40 font-montserrat flex flex-col overflow-hidden">\n\t\t\t\x3c!-- Header du chat --\x3e\n\t\t\t<div class="bg-black text-white p-4 rounded-t-xl">\n\t\t\t\t<div class="flex items-center justify-between">\n\t\t\t\t\t<h3 class="font-bold text-lg">Chat</h3>\n\t\t\t\t\t<button id="chat-close" class="text-white hover:bg-gray-800 rounded p-1">\n\t\t\t\t\t\t<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t\x3c!-- Onglets --\x3e\n\t\t\t\t<div class="flex mt-3 space-x-1">\n\t\t\t\t\t<button id="tab-global" class="px-3 py-1 rounded text-sm bg-gray-800 text-white">\n\t\t\t\t\t\tGlobal\n\t\t\t\t\t</button>\n\t\t\t\t\t<button id="tab-private" class="px-3 py-1 rounded text-sm text-gray-300 hover:bg-gray-800 hover:text-white">\n\t\t\t\t\t\tPriv√©\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t\x3c!-- Zone des messages --\x3e\n\t\t\t<div id="messages-container" class="flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50">\n\t\t\t\t\x3c!-- Les messages seront ajout√©s dynamiquement --\x3e\n\t\t\t</div>\n\n\t\t\t\x3c!-- Zone de saisie --\x3e\n\t\t\t<div class="p-3 bg-white border-t border-gray-200">\n\t\t\t\t<div class="flex items-center space-x-2">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid="message-input"\n\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\tplaceholder="Tapez votre message..."\n\t\t\t\t\t\tclass="flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-gray-500 focus:border-gray-500"\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\tid="send-message"\n\t\t\t\t\t\tclass="bg-black hover:bg-gray-800 text-white px-3 py-2 rounded-lg transition-colors"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'}function a(){return'\n\t\t<button\n\t\t\tid="chat-fab"\n\t\t\tclass="fixed bottom-6 right-6 bg-black hover:bg-gray-800 text-white rounded-full shadow-lg w-16 h-16 flex items-center justify-center transition-colors duration-200 z-50 font-montserrat"\n\t\t\taria-label="Ouvrir le chat"\n\t\t>\n\t\t\t<svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n\t\t\t\t<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n\t\t\t\t\td="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />\n\t\t\t</svg>\n\t\t\t<span id="chat-notif" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full px-2 py-0.5 shadow-lg min-w-[20px] h-5 flex items-center justify-center">\n\t\t\t\t3\n\t\t\t</span>\n\t\t</button>\n\t'}n.d(e,{ChatFloatingButton:()=>a,X:()=>s})},565:(t,e,n)=>{n.d(e,{chatManager:()=>a});var s=n(43);const a=new class{state={isOpen:!1,activeTab:"global",currentRoom:null,messages:[],unreadCount:3};mockMessages=[{id:"1",userId:"user1",username:"Alice",content:"Salut tout le monde ! üëã",timestamp:new Date(Date.now()-3e5),type:"text"},{id:"2",userId:"user2",username:"Bob",content:"Hey ! Quelqu'un pour une partie de Pong ?",timestamp:new Date(Date.now()-18e4),type:"text"},{id:"3",userId:"current-user",username:"Toi",content:"Je suis chaud ! üèì",timestamp:new Date(Date.now()-12e4),type:"text"}];constructor(){this.initializeChat()}initializeChat(){this.state.messages=this.mockMessages,this.setupEventListeners()}setupEventListeners(){const t=document.getElementById("chat-fab");t&&t.addEventListener("click",()=>{this.toggleChat()})}toggleChat(){this.state.isOpen=!this.state.isOpen,this.state.isOpen?(this.openChat(),this.state.unreadCount=0,this.updateNotificationBadge()):this.closeChat()}openChat(){this.createChatPanel()}closeChat(){const t=document.getElementById("chat-panel");t&&t.remove()}createChatPanel(){if(document.getElementById("chat-panel"))return;document.body.insertAdjacentHTML("beforeend",(0,s.X)()),this.setupPanelEventListeners(),this.updateMessagesDisplay();const t=document.getElementById("messages-container");t&&(t.scrollTop=t.scrollHeight)}setupPanelEventListeners(){const t=document.getElementById("chat-close");t&&t.addEventListener("click",()=>{this.toggleChat()});const e=document.getElementById("send-message"),n=document.getElementById("message-input");e&&n&&(e.addEventListener("click",()=>{this.sendMessage(n.value),n.value=""}),n.addEventListener("keydown",t=>{"Enter"===t.key&&(this.sendMessage(n.value),n.value="")}));const s=document.getElementById("tab-global"),a=document.getElementById("tab-private");s&&s.addEventListener("click",()=>{this.switchTab("global")}),a&&a.addEventListener("click",()=>{this.switchTab("private")})}renderMessages(){return this.state.messages.map(t=>{const e="current-user"===t.userId,n=this.formatTime(t.timestamp);return`\n                <div class="flex ${e?"justify-end":"justify-start"}">\n                    <div class="max-w-xs">\n                        ${e?"":`<div class="text-xs text-gray-500 mb-1">${t.username}</div>`}\n                        <div class="px-3 py-2 rounded-lg text-sm ${e?"bg-blue-600 text-white":"bg-white border border-gray-200"}">\n                            ${this.escapeHtml(t.content)}\n                        </div>\n                        <div class="text-xs text-gray-400 mt-1 ${e?"text-right":"text-left"}">\n                            ${n}\n                        </div>\n                    </div>\n                </div>\n            `}).join("")}sendMessage(t){if(!t.trim())return;const e={id:Date.now().toString(),userId:"current-user",username:"Toi",content:t.trim(),timestamp:new Date,type:"text"};this.state.messages.push(e),this.updateMessagesDisplay(),console.log("Message envoy√©:",e)}switchTab(t){this.state.activeTab=t;const e=document.getElementById("tab-global"),n=document.getElementById("tab-private");e&&n&&("global"===t?(e.className="px-3 py-1 rounded text-sm bg-blue-700 text-white",n.className="px-3 py-1 rounded text-sm text-blue-200 hover:bg-blue-700 hover:text-white"):(n.className="px-3 py-1 rounded text-sm bg-blue-700 text-white",e.className="px-3 py-1 rounded text-sm text-blue-200 hover:bg-blue-700 hover:text-white")),console.log("Onglet chang√©:",t)}updateMessagesDisplay(){const t=document.getElementById("messages-container");t&&(t.innerHTML=this.renderMessages(),t.scrollTop=t.scrollHeight)}updateNotificationBadge(){const t=document.getElementById("chat-notif");t&&(this.state.unreadCount>0?(t.textContent=this.state.unreadCount>99?"99+":this.state.unreadCount.toString(),t.style.display="flex"):t.style.display="none")}formatTime(t){const e=(new Date).getTime()-t.getTime();return e<6e4?"√Ä l'instant":e<36e5?`${Math.floor(e/6e4)}min`:t.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}addUnreadMessage(){this.state.unreadCount++,this.updateNotificationBadge()}}}}]);
//# sourceMappingURL=565.main.js.map