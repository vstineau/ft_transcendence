services:
 backend:
  depends_on: 
   - reverse_proxy
  container_name: backend
  networks:
   - transcendence 
  build: backend/ 
  develop:
   watch:
     - action: sync
       path: backend
       target: /app
       ignore:
        - node_modules/
        - Dockerfile
        - tsconfig.json
     - action: rebuild
       path: backend/package.json
    #  restart: always
  volumes:
   - ./backend/db:/app/db
 frontend:
  depends_on:
   - backend 
  container_name: frontend
  networks:
   - transcendence 
  build: frontend/ 
  develop:
   watch:
     - action: sync
       path: frontend
       target: /app/
       ignore:
        - node_modules/
        - Dockerfile
     - action: rebuild
       path: frontend/package.json
  #restart: always
 reverse_proxy:
  container_name: reverse_proxy
  networks:
   - transcendence 
  build: reverse_proxy
  ports: 
    - 8080:443
  #restart: always

networks:
 transcendence:
  driver: bridge
